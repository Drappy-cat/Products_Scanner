/* ========== THEME TOKENS ========== */
:root {
  --bg:#ffffff; --text:#222; --muted:#666;
  --card:#f8f9fa; --card-border:#e5e7eb; --shadow:rgba(0,0,0,.08);
  --header:#1a237e; --accent:#0d47a1; --accent-2:#1976d2; --danger:#dc3545;
  --row:#e5e5e5;
  --input-bg:#fff; --input-border:#cbd5e1;

  --chart-carb:#42a5f5; --chart-protein:#66bb6a; --chart-fat:#ff7043;
}
:root[data-theme="dark"] {
  --bg:#212121; --text:#e0e0e0; --muted:#cfcfcf;
  --card:#333; --card-border:#000; --shadow:rgba(0,0,0,.3);
  --header:#1a237e; --accent:#0d47a1; --accent-2:#1976d2; --danger:#ff6b6b;
  --row:#555; --input-bg:#333; --input-border:#000;
}

/* ========== BASE ========== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:system-ui, Arial, sans-serif;
  background:var(--bg); color:var(--text);
}
.container{width:92%; max-width:1000px; margin:0 auto}

/* ========== HEADER ========== */
header{
  background:var(--header); color:#fff; box-shadow:0 2px 5px var(--shadow);
}
header .container{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 0;}
.logo{display:flex; align-items:center; gap:10px; font-weight:800; font-size:24px}
.logo-img{height:40px}
.logo span{font-weight:600}

nav a{
  color:#fff; text-decoration:none; padding:8px 12px; border-radius:6px; font-weight:700;
}
nav a.active, nav a:hover{background:var(--accent)}

/* Theme switch */
.theme-switch{position:relative; height:26px}
.theme-switch input{position:absolute; opacity:0}
.switch{width:48px; height:26px; background:var(--card-border); border-radius:999px; display:inline-block; position:relative; cursor:pointer; box-shadow: inset 0 2px 4px var(--shadow)}
.switch::after{content:""; position:absolute; top:3px; left:3px; width:20px; height:20px; background:var(--bg); border-radius:50%; transition: transform .2s ease; box-shadow:0 1px 2px var(--shadow)}
#theme-toggle:checked + .switch{background:var(--accent-2)}
#theme-toggle:checked + .switch::after{transform:translateX(22px)}
.switch .sun,.switch .moon{position:absolute; top:50%; transform:translateY(-50%); font-size:12px; pointer-events:none}
.switch .sun{left:7px} .switch .moon{right:7px}

/* ========== MAIN ========== */
main{padding:20px 0}

/* Landing */
#landing{padding:24px 0 8px}
.hero{
  text-align:center; padding:26px 16px 16px; background:var(--card);
  border:2px solid var(--card-border); border-radius:10px; box-shadow:0 4px 8px var(--shadow);
}
.hero-title{margin:0 0 6px; font-size:26px}
.hero-subtitle{margin:0 0 16px; color:var(--muted)}

.search-bar{
  display:grid; grid-template-columns:1fr auto auto; gap:10px; max-width:760px; margin:0 auto;
}
.search-bar input{
  padding:12px 14px; border:1px solid var(--input-border); background:var(--input-bg);
  color:var(--text); border-radius:6px; outline:none;
}
.btn-primary, .btn-outline{
  padding:10px 14px; border-radius:6px; cursor:pointer; font-weight:700;
}
.btn-primary{background:var(--accent-2); color:#fff; border:2px solid var(--accent-2)}
.btn-primary:hover{background:var(--accent)}
.btn-outline{background:transparent; color:#fff; border:2px solid var(--accent-2); background:var(--accent-2)}
.btn-outline:hover{background:var(--accent)}

.quick-tags{margin-top:12px; display:flex; flex-wrap:wrap; gap:8px; justify-content:center}
.tag{border:1px solid var(--card-border); background:var(--bg); color:var(--text); border-radius:999px; padding:6px 12px; cursor:pointer}
.tag:hover{background:var(--card)}

.results{margin-top:18px; display:grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap:14px}
.result-card{
  display:flex; gap:12px; align-items:center; padding:12px; background:var(--card);
  border:2px solid var(--card-border); border-radius:10px; box-shadow:0 2px 6px var(--shadow); cursor:pointer;
}
.result-card:hover{border-color:var(--accent-2)}
.result-thumb{width:64px; height:64px; border-radius:8px; object-fit:cover; border:2px solid var(--card-border)}
.result-meta{display:flex; flex-direction:column; gap:2px}
.result-title{font-weight:800}
.result-sub{color:var(--muted); font-size:13px}
.badge{display:inline-block; padding:3px 8px; border-radius:999px; font-size:12px; font-weight:800}
.badge.halal{background:#d1fae5; color:#065f46}
.badge.haram{background:#fee2e2; color:#991b1b}
.badge.mushbooh{background:#fef9c3; color:#854d0e}

/* Detail */
.content-wrapper{display:flex; gap:20px}
.main-content{flex:2} .sidebar{flex:1}
.card{
  background:var(--card); border:2px solid var(--card-border); border-radius:10px;
  padding:15px; margin-bottom:20px; box-shadow:0 4px 8px var(--shadow);
}
.card h3{margin:0 0 10px; padding-bottom:10px; border-bottom:2px solid var(--accent)}
#nama-makanan{font-size:28px; margin:0 0 16px}
.serving-size{font-size:14px; color:var(--muted)}

.nutrition-table{width:100%; border-collapse:collapse; border:2px solid var(--card-border); background:var(--card); border-radius:8px; overflow:hidden}
.nutrition-table th{background:var(--accent); color:#fff; text-align:left; padding:10px 8px}
.nutrition-table td{padding:10px 8px; border-bottom:1px solid var(--row)}
.nutrition-table tr:last-child td{border-bottom:none}
.nutrition-table td:last-child{text-align:right; font-weight:700; color:var(--danger); font-variant-numeric: tabular-nums}

.chart-container{position:relative; height:200px; width:200px; margin:10px auto}
#rincian-makro{text-align:center; font-size:14px; color:var(--muted)}
#foto-makanan{width:100%; height:auto; border-radius:8px; border:2px solid var(--card-border); box-shadow:0 2px 4px var(--shadow)}

.summary-grid{display:grid; grid-template-columns:1fr 1fr; gap:15px; text-align:center}
.summary-item .value{font-size:24px; font-weight:800; color:var(--danger)}
.summary-item .label{font-size:14px; color:var(--muted)}

.serving-list{list-style:none; padding:0; margin:0; border:2px solid var(--card-border); border-radius:8px; overflow:hidden; background:var(--card); box-shadow:0 2px 4px var(--shadow)}
.serving-list li{display:flex; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--row)}
.serving-list li:last-child{border-bottom:none}

.link-back{background:transparent; border:none; color:var(--accent-2); font-weight:800; cursor:pointer}

/* Scanner Modal */
.modal[hidden]{display:none}
.modal{position:fixed; inset:0; z-index:50}
.modal-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.5)}
.modal-body{
  position:relative; max-width:640px; margin:6vh auto; background:var(--card);
  border:2px solid var(--card-border); border-radius:12px; box-shadow:0 8px 20px var(--shadow); padding:14px;
}
.modal-header{display:flex; align-items:center; justify-content:space-between; margin-bottom:10px}
.modal-close{background:transparent; border:none; font-size:18px; cursor:pointer; color:var(--text)}
.modal-hint{color:var(--muted); font-size:13px; margin-top:8px}

/* Responsive */
@media (max-width: 720px){
  .search-bar{grid-template-columns:1fr}
  .btn-primary,.btn-outline{width:100%}
  .content-wrapper{flex-direction:column}
}

/* ===== Helper: full width di luar .container ===== */
.full-bleed{
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
}

/* ===== Band "Understanding E-Codes" (ikut light/dark dari tokens) ===== */
.band{
  background: var(--card);      /* light: #f8f9fa | dark: #333 */
  color: var(--text);
  padding: 42px 0;
  border-top: 2px solid var(--card-border);
  border-bottom: 2px solid var(--card-border);
}
.band-inner{ padding: 8px 0 6px; }
.band-title{
  text-align:center; font-size:32px; font-weight:800; margin:0 0 8px; color: var(--text);
}
.band-subtitle{
  text-align:center; color: var(--muted); max-width: 820px; margin: 0 auto 20px;
}

/* kartu status (2 kolom) */
.status-grid{
  display:grid; gap:18px; grid-template-columns: repeat(2, 1fr);
}
@media (max-width: 800px){ .status-grid{ grid-template-columns:1fr; } }

.status-card{
  background: var(--bg);                    /* kontras dengan band */
  border: 2px solid var(--card-border);
  border-radius: 14px;
  padding: 20px;
  box-shadow: 0 2px 8px var(--shadow);
}
.status-title{ font-size:20px; margin:0 0 6px; font-weight:800; color: var(--text); }
.status-desc{ margin:0; color: var(--muted); line-height:1.5; }

/* ikon status: warna ikut tokenmu (biru utk OK, merah utk warning) */
.status-icon{
  width:44px; height:44px; border-radius:12px;
  display:flex; align-items:center; justify-content:center;
  margin-bottom:10px; background: var(--bg);
  border: 1px solid var(--card-border);
  box-shadow: 0 1px 2px var(--shadow);
}
.status-icon.ok   { color: var(--accent-2); }   /* Halal → aksen biru */
.status-icon.warn { color: var(--danger); }     /* Doubtful → aksen merah */

/* ===== Brand strip bawah (footer-like) ===== */
.brand-strip{
  background: var(--card);
  color: var(--muted);
  padding: 18px 0;
  border-top: 2px solid var(--card-border);
}
.brand-wrap{ display:grid; gap:12px; align-items:center; }
@media (min-width: 860px){ .brand-wrap{ grid-template-columns: 1fr auto; } }

.brand-left{ display:flex; gap:10px; align-items:center; }
.brand-badge{
  width:28px; height:28px; border-radius:8px;
  display:inline-flex; align-items:center; justify-content:center;
  background: var(--bg); color: var(--accent-2);
  border:1px solid var(--card-border); font-weight:900;
}
.brand-title{ font-weight:800; color: var(--text); }
.brand-accent{ color: var(--accent-2); }
.brand-sub{ font-size:13px; color: var(--muted); }
.brand-copy{ font-size:13px; color: var(--muted); text-align:left; }
